\hypertarget{mqtt__client_8h}{}\section{include/mqtt\+\_\+client.h File Reference}
\label{mqtt__client_8h}\index{include/mqtt\+\_\+client.\+h@{include/mqtt\+\_\+client.\+h}}
{\ttfamily \#include $<$mqtt.\+h$>$}\\*
Include dependency graph for mqtt\+\_\+client.\+h\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=187pt]{mqtt__client_8h__incl}
\end{center}
\end{figure}
\subsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structmqtt__client}{mqtt\+\_\+client}
\begin{DoxyCompactList}\small\item\em An M\+Q\+TT client. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
uint16\+\_\+t \hyperlink{group__details_ga7ca75c661980d4af50493f59a386f378}{\+\_\+\+\_\+mqtt\+\_\+next\+\_\+pid} (struct \hyperlink{structmqtt__client}{mqtt\+\_\+client} $\ast$client)
\begin{DoxyCompactList}\small\item\em Generate a new next packet ID.

Packet ID\textquotesingle{}s are generated using a max-\/length L\+F\+SR. \end{DoxyCompactList}\item 
ssize\+\_\+t \hyperlink{group__details_gacf553ca88f48350dbde0dc3b96e550f7}{\+\_\+\+\_\+mqtt\+\_\+send} (struct \hyperlink{structmqtt__client}{mqtt\+\_\+client} $\ast$client)
\begin{DoxyCompactList}\small\item\em Handles egress client traffic. \end{DoxyCompactList}\item 
ssize\+\_\+t \hyperlink{group__details_ga4d50a465c684a5ecd1c000f811fa601e}{\+\_\+\+\_\+mqtt\+\_\+recv} (struct \hyperlink{structmqtt__client}{mqtt\+\_\+client} $\ast$client)
\begin{DoxyCompactList}\small\item\em Handles ingress client traffic. \end{DoxyCompactList}\item 
enum \hyperlink{group__api_gad0c901a8d30691ed0ca17915b691b7e7}{M\+Q\+T\+T\+Errors} \hyperlink{group__api_gab07105b049dd86a8ec39c518cf9fa4c7}{mqtt\+\_\+init} (struct \hyperlink{structmqtt__client}{mqtt\+\_\+client} $\ast$client, int sockfd, uint8\+\_\+t $\ast$sendbuf, size\+\_\+t sendbufsz, uint8\+\_\+t $\ast$recvbuf, size\+\_\+t recvbufsz, void($\ast$publish\+\_\+response\+\_\+callback)(void $\ast$$\ast$state, struct \hyperlink{structmqtt__response__publish}{mqtt\+\_\+response\+\_\+publish} $\ast$publish))
\begin{DoxyCompactList}\small\item\em Initialize an M\+Q\+TT client.

This function {\itshape must} be called before any other A\+PI function calls. \end{DoxyCompactList}\item 
enum \hyperlink{group__api_gad0c901a8d30691ed0ca17915b691b7e7}{M\+Q\+T\+T\+Errors} \hyperlink{group__api_gadbe914e5a9d4f93314c4e7637cb4f7b3}{mqtt\+\_\+connect} (struct \hyperlink{structmqtt__client}{mqtt\+\_\+client} $\ast$client, const char $\ast$client\+\_\+id, const char $\ast$will\+\_\+topic, const void $\ast$will\+\_\+message, size\+\_\+t will\+\_\+message\+\_\+size, const char $\ast$user\+\_\+name, const char $\ast$password, uint8\+\_\+t connect\+\_\+flags, uint16\+\_\+t keep\+\_\+alive)
\begin{DoxyCompactList}\small\item\em Establishes a session with the M\+Q\+TT broker. \end{DoxyCompactList}\item 
enum \hyperlink{group__api_gad0c901a8d30691ed0ca17915b691b7e7}{M\+Q\+T\+T\+Errors} \hyperlink{group__api_ga0d8fed24a799ab9b55eeb28f3cd2d0a8}{mqtt\+\_\+publish} (struct \hyperlink{structmqtt__client}{mqtt\+\_\+client} $\ast$client, const char $\ast$topic\+\_\+name, void $\ast$application\+\_\+message, size\+\_\+t application\+\_\+message\+\_\+size, uint8\+\_\+t publish\+\_\+flags)
\begin{DoxyCompactList}\small\item\em Publish an application message.

Publishes an application message to the M\+Q\+TT broker. \end{DoxyCompactList}\item 
ssize\+\_\+t \hyperlink{group__details_gae09d4412a871ecec31377db55cc54228}{\+\_\+\+\_\+mqtt\+\_\+puback} (struct \hyperlink{structmqtt__client}{mqtt\+\_\+client} $\ast$client, uint16\+\_\+t packet\+\_\+id)
\begin{DoxyCompactList}\small\item\em Acknowledge an ingree publish with Q\+OS==1. \end{DoxyCompactList}\item 
ssize\+\_\+t \hyperlink{group__details_ga874c62f7a20b6adf13dbed2b4e2dd985}{\+\_\+\+\_\+mqtt\+\_\+pubrec} (struct \hyperlink{structmqtt__client}{mqtt\+\_\+client} $\ast$client, uint16\+\_\+t packet\+\_\+id)
\begin{DoxyCompactList}\small\item\em Acknowledge an ingree publish with Q\+OS==2. \end{DoxyCompactList}\item 
ssize\+\_\+t \hyperlink{group__details_ga427f9191ab9967b75e0a7a2f7fa0dca0}{\+\_\+\+\_\+mqtt\+\_\+pubrel} (struct \hyperlink{structmqtt__client}{mqtt\+\_\+client} $\ast$client, uint16\+\_\+t packet\+\_\+id)
\begin{DoxyCompactList}\small\item\em Acknowledge an ingree P\+U\+B\+R\+EC packet. \end{DoxyCompactList}\item 
ssize\+\_\+t \hyperlink{group__details_ga86ddd2a08fbe4bd351dfd161db93303d}{\+\_\+\+\_\+mqtt\+\_\+pubcomp} (struct \hyperlink{structmqtt__client}{mqtt\+\_\+client} $\ast$client, uint16\+\_\+t packet\+\_\+id)
\begin{DoxyCompactList}\small\item\em Acknowledge an ingree P\+U\+B\+R\+EL packet. \end{DoxyCompactList}\item 
enum \hyperlink{group__api_gad0c901a8d30691ed0ca17915b691b7e7}{M\+Q\+T\+T\+Errors} \hyperlink{group__api_gaea5da9b546f6e91eb77c9eff9c478de5}{mqtt\+\_\+subscribe} (struct \hyperlink{structmqtt__client}{mqtt\+\_\+client} $\ast$client, const char $\ast$topic\+\_\+name, int max\+\_\+qos\+\_\+level)
\begin{DoxyCompactList}\small\item\em Subscribe to a topic. \end{DoxyCompactList}\item 
enum \hyperlink{group__api_gad0c901a8d30691ed0ca17915b691b7e7}{M\+Q\+T\+T\+Errors} \hyperlink{group__api_ga08d16571dfefa690698c0cca5cca7a1d}{mqtt\+\_\+unsubscribe} (struct \hyperlink{structmqtt__client}{mqtt\+\_\+client} $\ast$client, const char $\ast$topic\+\_\+name)
\begin{DoxyCompactList}\small\item\em Unsubscribe from a topic. \end{DoxyCompactList}\item 
enum \hyperlink{group__api_gad0c901a8d30691ed0ca17915b691b7e7}{M\+Q\+T\+T\+Errors} \hyperlink{group__api_gae472795684a1d973bfb89d075d17a29e}{mqtt\+\_\+ping} (struct \hyperlink{structmqtt__client}{mqtt\+\_\+client} $\ast$client)
\begin{DoxyCompactList}\small\item\em Ping the broker. \end{DoxyCompactList}\item 
enum \hyperlink{group__api_gad0c901a8d30691ed0ca17915b691b7e7}{M\+Q\+T\+T\+Errors} \hyperlink{group__api_ga95d9981735ab4495d3d65e8056611126}{mqtt\+\_\+disconnect} (struct \hyperlink{structmqtt__client}{mqtt\+\_\+client} $\ast$client)
\begin{DoxyCompactList}\small\item\em Terminate the session with the M\+Q\+TT broker. \end{DoxyCompactList}\end{DoxyCompactItemize}
